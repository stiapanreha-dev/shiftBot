# –ê–Ω–∞–ª–∏–∑ –¢–ó –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É –±–æ—Ç–∞ - –°–∏—Å—Ç–µ–º–∞ –†–∞–Ω–≥–æ–≤ –∏ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –†–∞—Å—á–µ—Ç—ã

## –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞: 2025-11-01

---

## üìã –û–±–∑–æ—Ä –ó–∞–¥–∞—á–∏

–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –º–æ—Ç–∏–≤–∞—Ü–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ —Ä–∞—Å—á–µ—Ç–∞–º–∏ –∑–∞—Ä–∞–±–æ—Ç–∫–∞, —Ä–∞–Ω–≥–∞–º–∏, –±–æ–Ω—É—Å–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π.

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ –∑–∞—Ä–ø–ª–∞—Ç—ã

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ Shifts:**

| –ü–æ–ª–µ | –§–æ—Ä–º—É–ª–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|---------|----------|
| **Worked hours/shift** | `Clock out - Clock in` | –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã |
| **Total per hour** | `Worked hours √ó Hourly wage` | –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –∑–∞ —á–∞—Å—ã |
| **%** | `Base % + Dynamic %` | –ü—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏ (–±–∞–∑–æ–≤—ã–π + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π) |
| **Commissions** | `Net sales √ó %` | –ö–æ–º–∏—Å—Å–∏—è —Å –ø—Ä–æ–¥–∞–∂ |
| **Total made** | `Commissions + Total per hour` | **–ù–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞!** (–±—ã–ª–æ: Net sales √ó Payout rate) |

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
- `Hourly wage` - –∏–∑ —Ç–∞–±–ª–∏—Ü—ã EmployeeSettings
- `Base %` (Sales commission) - –∏–∑ —Ç–∞–±–ª–∏—Ü—ã EmployeeSettings
- `Dynamic %` - –∏–∑ —Ç–∞–±–ª–∏—Ü—ã DynamicRates (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç Total sales –∑–∞ –¥–µ–Ω—å)

---

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞

**–õ–æ–≥–∏–∫–∞:**
1. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total sales —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å (Date)
2. –ù–∞–π—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤ DynamicRates
3. –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ + –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–≤–∫–∞ = –∏—Ç–æ–≥–æ–≤—ã–π %

**–ü—Ä–∏–º–µ—Ä:**
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞: 8%
- Total sales –∑–∞ –¥–µ–Ω—å: $500
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–≤–∫–∞ –¥–ª—è $500: 2%
- –ò—Ç–æ–≥–æ–≤—ã–π %: 10%

**–¢–∞–±–ª–∏—Ü–∞ DynamicRates:**
| Min Amount | Max Amount | Percentage |
|------------|------------|------------|
| 0 | 499 | 0% |
| 500 | 999 | 2% |
| 1000 | 1999 | 4% |
| 2000+ | ‚àû | 6% |

---

### 3. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–Ω–≥–æ–≤

**6 —Ä–∞–Ω–≥–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ Total sales –∑–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü:**

| –†–∞–Ω–≥ | –î–∏–∞–ø–∞–∑–æ–Ω | –≠–º–æ–¥–∑–∏ |
|------|----------|--------|
| Rookie | $0 ‚Äì $1,999 | üßë‚ÄçüöÄ |
| Hustler | $2,000 ‚Äì $3,999 | üí™ |
| Closer | $4,000 ‚Äì $6,999 | üíº |
| Shark | $7,000 ‚Äì $9,999 | ü¶à |
| King of Greed | $10,000 ‚Äì $14,999 | üíÄ |
| Chatting God | $15,000+ | üî• |

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –†–∞–Ω–≥ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å–º–µ–Ω—ã
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–Ω–≥–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ü—Ä–∏ **–ø–æ–≤—ã—à–µ–Ω–∏–∏** ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π –±–æ–Ω—É—Å –∏–∑ 3 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
- –ü—Ä–∏ **–ø–æ–Ω–∏–∂–µ–Ω–∏–∏** ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –≤ —Å–º–µ–Ω–µ)
- **1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞** –≤—Å–µ —Ä–∞–Ω–≥–∏ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è (Rookie)

---

### 4. –ë–æ–Ω—É—Å—ã —Ä–∞–Ω–≥–æ–≤

–ö–∞–∂–¥—ã–π —Ä–∞–Ω–≥ –∏–º–µ–µ—Ç 3 –≤–æ–∑–º–æ–∂–Ω—ã—Ö –±–æ–Ω—É—Å–∞, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ä–∞–Ω–≥–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –æ–¥–∏–Ω **—Å–ª—É—á–∞–π–Ω–æ**.

#### Rookie üßë‚ÄçüöÄ ($0 ‚Äì $1,999)
- –ù–µ—Ç –±–æ–Ω—É—Å–æ–≤ (–±–∞–∑–æ–≤—ã–π —Ä–∞–Ω–≥)

#### Hustler üí™ ($2,000 ‚Äì $3,999)
1. **Flat bonus +10$** ‚Üí –¥–æ–±–∞–≤–∏—Ç—å $10 –∫ Total made —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã
2. **+1% Commission on your next shift** ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å % –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ
3. **+1% Commission from the chatter from previous shift** ‚Üí —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ (—Å–º. –Ω–∏–∂–µ)

#### Closer üíº ($4,000 ‚Äì $6,999)
1. **Flat bonus +25$**
2. **+2% Commission on your next shift**
3. **Flat bonus +15$**

#### Shark ü¶à ($7,000 ‚Äì $9,999)
1. **Flat bonus +50$**
2. **Pick a Date for Paid Day Off** ‚Üí —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å (–≤—Ä—É—á–Ω—É—é)
3. **+3% Commission on your next shift**

#### King of Greed üíÄ ($10,000 ‚Äì $14,999)
1. **Flat bonus +100$**
2. **+2% from sales of ALL other chatters on your model that day(next shift)** ‚Üí —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ (—Å–º. –Ω–∏–∂–µ)
3. **Telegram Premium for 3 months** ‚Üí —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å (–≤—Ä—É—á–Ω—É—é)

#### Chatting God üî• ($15,000+)
1. **Flat bonus +200$**
2. **Double commission on your next shift** ‚Üí —É–¥–≤–æ–∏—Ç—å % –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ
3. **Flat bonus +125$**

---

### 5. –°–ª–æ–∂–Ω—ã–µ –±–æ–Ω—É—Å—ã - –¥–µ—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞

#### –ë–æ–Ω—É—Å: "+X% Commission from the chatter from previous shift"

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞:**
> –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –±—Ä–∞—Ç—å % —Å Net Sales —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å –ø—Ä–æ—à–ª–æ–π —Å–º–µ–Ω—ã.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –¢–µ–∫—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø—Ä–æ–¥–∞–≤–∞–ª –º–æ–¥–µ–ª–∏: `[A, B]`
2. –ù–∞–π—Ç–∏ **–ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–º–µ–Ω—É**, –≥–¥–µ:
   - –ü—Ä–æ–¥—É–∫—Ç = `A –ò–õ–ò B`
   - Date –±–ª–∏–∂–∞–π—à–µ–µ –∫ Date —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã (—Ä–∞–Ω—å—à–µ)
   - EmployeeId ‚â† —Ç–µ–∫—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
3. –ï—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø—Ä–æ–¥–∞–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π:
   - –í—ã–±—Ä–∞—Ç—å **—Å–ª—É—á–∞–π–Ω–æ** –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö
4. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å:
   - `Net sales –º–æ–¥–µ–ª–∏ = Total sales –º–æ–¥–µ–ª–∏ √ó 0.8`
   - `–ë–æ–Ω—É—Å = Net sales –º–æ–¥–µ–ª–∏ √ó 1%` (–∏–ª–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–π %)

**–ü—Ä–∏–º–µ—Ä:**
- –¢–µ–∫—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫: –ø—Ä–æ–¥–∞–ª Model A ($200) –∏ Model B ($300)
- –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å–º–µ–Ω–∞: –°–æ—Ç—Ä—É–¥–Ω–∏–∫ X –ø—Ä–æ–¥–∞–ª Model A ($400) –∏ Model C ($100)
- –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä: Model A
- Net sales Model A = $400 √ó 0.8 = $320
- –ë–æ–Ω—É—Å = $320 √ó 1% = $3.20

---

#### –ë–æ–Ω—É—Å: "+2% from sales of ALL other chatters on your model that day"

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞:**
> –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∑—è—Ç—å 2% —Å Net sales –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞ –ø—Ä–æ—à–ª—ã–µ —Å–º–µ–Ω—ã –∑–∞ –∞–∫—Ç—É–∞–ª—å–Ω—É—é Date —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –¢–µ–∫—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø—Ä–æ–¥–∞–≤–∞–ª –º–æ–¥–µ–ª–∏: `[A, B]`
2. –í—ã–±—Ä–∞—Ç—å **—Å–ª—É—á–∞–π–Ω–æ** –æ–¥–Ω—É –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `B`)
3. –ù–∞–π—Ç–∏ **–≤—Å–µ —Å–º–µ–Ω—ã** –∑–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É (Date), –≥–¥–µ:
   - –ü—Ä–æ–¥–∞–≤–∞–ª–∞—Å—å Model B
   - EmployeeId ‚â† —Ç–µ–∫—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
   - Date < –≤—Ä–µ–º—è —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã (–ø—Ä–æ—à–ª—ã–µ —Å–º–µ–Ω—ã)
4. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å:
   - –î–ª—è –∫–∞–∂–¥–æ–π —Å–º–µ–Ω—ã: `Net sales Model B = Total sales Model B √ó 0.8`
   - –°—É–º–º–∞ –≤—Å–µ—Ö Net sales Model B
   - `–ë–æ–Ω—É—Å = –°—É–º–º–∞ √ó 2%`

**–ü—Ä–∏–º–µ—Ä:**
- –¢–µ–∫—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫: –ø—Ä–æ–¥–∞–ª Model A –∏ Model B –≤ —Å–º–µ–Ω—É 15:00
- –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä: Model B
- –ü—Ä–æ—à–ª—ã–µ —Å–º–µ–Ω—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è:
  - –°–º–µ–Ω–∞ 1 (09:00): Model B = $200 ‚Üí Net sales = $160
  - –°–º–µ–Ω–∞ 2 (12:00): Model B = $300 ‚Üí Net sales = $240
- –°—É–º–º–∞ Net sales = $400
- –ë–æ–Ω—É—Å = $400 √ó 2% = $8.00

---

### 6. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –±–æ–Ω—É—Å—ã.

**–¢–∏–ø—ã –±–æ–Ω—É—Å–æ–≤:**
1. **Flat bonus** ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –∫ Total made **—Ç–µ–∫—É—â–µ–π** —Å–º–µ–Ω—ã
2. **% on next shift** ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ ActiveBonuses, –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ **—Å–ª–µ–¥—É—é—â–µ–π** —Å–º–µ–Ω–µ
3. **Double commission on next shift** ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ
4. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ** (Paid Day Off, Telegram Premium) ‚Üí —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

**–¢–∞–±–ª–∏—Ü–∞ ActiveBonuses:**
| EmployeeId | Bonus Type | Value | Applies To Shift | Created At |
|------------|------------|-------|------------------|------------|
| 12345 | percent_next | 3.0 | NULL | 2025/11/01 12:00:00 |
| 12345 | flat_bonus | 50.0 | 142 | 2025/11/01 12:00:00 |

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–º–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ActiveBonuses –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–Ω—É—Å—ã —Å `Applies To Shift = NULL` –∏–ª–∏ `Applies To Shift = ID —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã`
- –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–æ–º–µ—Ç–∏—Ç—å `Applies To Shift = shift_id` –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å

---

### 7. –ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –≤ –±–æ—Ç–µ

#### –ö–Ω–æ–ø–∫–∞ "Statistics"

–ü–æ–∫–∞–∑–∞—Ç—å:
```
üìä Your Statistics

üèÜ Rank: Hustler üí™
üí∞ Total sales this month: $3,245.50
üíµ Total made since last pay day: $1,820.75
üìÖ Next pay day: November 15, 2025

Keep it up! üöÄ
```

**–†–∞—Å—á–µ—Ç—ã:**
- **Rank:** –∏–∑ EmployeeRanks –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
- **Total sales this month:** —Å—É–º–º–∞ Total sales –∑–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü
- **Total made since last pay day:** —Å—É–º–º–∞ Total made —Å 1-–≥–æ –∏–ª–∏ 15-–≥–æ —á–∏—Å–ª–∞ (–±–ª–∏–∂–∞–π—à–∏–π –ø—Ä–æ—à–µ–¥—à–∏–π)
- **Next pay day:** 1-–≥–æ –∏–ª–∏ 15-–≥–æ —á–∏—Å–ª–∞ (–±–ª–∏–∂–∞–π—à–∏–π –±—É–¥—É—â–∏–π)

#### –ö–Ω–æ–ø–∫–∞ "Ranks"

–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö —Ä–∞–Ω–≥–∞—Ö:
```
üèÜ Rank System

Rookie üßë‚ÄçüöÄ ($0 ‚Äì $1,999)
No bonuses ‚Äî this is the baseline. Everyone starts here.

Hustler üí™ ($2,000 ‚Äì $3,999)
1. Flat bonus +10$
2. +1% Commission on your next shift
3. +1% Commission from the chatter from previous shift

... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–Ω–≥–∏)
```

---

## üóÇÔ∏è –ù–æ–≤–∞—è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets

### –õ–∏—Å—Ç: Shifts (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)

| # | –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|------|-----|----------|
| 1 | ID | int | –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç |
| 2 | Date | datetime | –°–µ—Ä–≤–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è |
| 3 | EmployeeId | int | Telegram user ID |
| 4 | EmployeeName | str | Telegram username |
| 5 | Clock in | datetime | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–º–µ–Ω—ã |
| 6 | Clock out | datetime | –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–º–µ–Ω—ã |
| 7 | **Worked hours/shift** | **float** | **–ù–û–í–û–ï:** (Clock out - Clock in) –≤ —á–∞—Å–∞—Ö |
| 8-N | Model A, Model B, ... | float | –ü—Ä–æ–¥–∞–∂–∏ –ø–æ –º–æ–¥–µ–ª—è–º |
| N+1 | Total sales | float | –°—É–º–º–∞ –ø—Ä–æ–¥–∞–∂ |
| N+2 | Net sales | float | Total sales √ó 0.8 |
| N+3 | **%** | **float** | **–ù–û–í–û–ï:** –ë–∞–∑–æ–≤–∞—è + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–≤–∫–∞ |
| N+4 | **Total per hour** | **float** | **–ù–û–í–û–ï:** Worked hours √ó Hourly wage |
| N+5 | **Commissions** | **float** | **–ù–û–í–û–ï:** Net sales √ó % |
| N+6 | Total made | float | **–ò–ó–ú–ï–ù–ï–ù–û:** Commissions + Total per hour |

---

### –õ–∏—Å—Ç: EmployeeSettings (–Ω–æ–≤—ã–π)

| EmployeeId | Hourly wage | Sales commission |
|------------|-------------|------------------|
| 120962578 | 15.00 | 8.0 |
| 123456789 | 18.00 | 10.0 |

**–ü–æ–ª—è:**
- `EmployeeId` - Telegram user ID (PK)
- `Hourly wage` - –ø–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ ($)
- `Sales commission` - –±–∞–∑–æ–≤–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%)

**–°–æ–∑–¥–∞–Ω–∏–µ:**
- –ê–¥–º–∏–Ω –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –≤—Ä—É—á–Ω—É—é
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–≤–æ–π —Å–º–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –≤ EmployeeSettings
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∞–¥–º–∏–Ω—É –¥–æ–±–∞–≤–∏—Ç—å (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)

---

### –õ–∏—Å—Ç: DynamicRates (–Ω–æ–≤—ã–π)

| Min Amount | Max Amount | Percentage |
|------------|------------|------------|
| 0 | 499.99 | 0.0 |
| 500 | 999.99 | 2.0 |
| 1000 | 1999.99 | 4.0 |
| 2000 | 999999 | 6.0 |

**–ü–æ–ª—è:**
- `Min Amount` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ Total sales –∑–∞ –¥–µ–Ω—å
- `Max Amount` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (999999 = –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å)
- `Percentage` - –ø—Ä–æ—Ü–µ–Ω—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞–≤–∫–∏

**–õ–æ–≥–∏–∫–∞:**
- –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total sales —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å (–≤—Å–µ —Å–º–µ–Ω—ã —Å Date = —Å–µ–≥–æ–¥–Ω—è)
- –ù–∞–π—Ç–∏ –¥–∏–∞–ø–∞–∑–æ–Ω: `Min Amount <= Total sales < Max Amount`
- –í–µ—Ä–Ω—É—Ç—å Percentage

---

### –õ–∏—Å—Ç: Ranks (–Ω–æ–≤—ã–π)

| Rank Name | Min Amount | Max Amount | Emoji | Bonus 1 | Bonus 2 | Bonus 3 |
|-----------|------------|------------|-------|---------|---------|---------|
| Rookie | 0 | 1999.99 | üßë‚ÄçüöÄ | none | none | none |
| Hustler | 2000 | 3999.99 | üí™ | flat_10 | percent_next_1 | percent_prev_1 |
| Closer | 4000 | 6999.99 | üíº | flat_25 | percent_next_2 | flat_15 |
| Shark | 7000 | 9999.99 | ü¶à | flat_50 | paid_day_off | percent_next_3 |
| King of Greed | 10000 | 14999.99 | üíÄ | flat_100 | percent_all_2 | telegram_premium |
| Chatting God | 15000 | 999999 | üî• | flat_200 | double_commission | flat_125 |

**–§–æ—Ä–º–∞—Ç –±–æ–Ω—É—Å–æ–≤ (Bonus 1/2/3):**
- `none` - –Ω–µ—Ç –±–æ–Ω—É—Å–∞
- `flat_X` - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ–Ω—É—Å $X
- `percent_next_X` - +X% –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å–º–µ–Ω—É
- `percent_prev_X` - +X% —Å –ø—Ä–æ—à–ª–æ–π —Å–º–µ–Ω—ã (—Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞)
- `percent_all_X` - +X% —Å–æ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞)
- `double_commission` - —É–¥–≤–æ–∏—Ç—å % –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ
- `paid_day_off` - –≤—ã–±—Ä–∞—Ç—å –¥–µ–Ω—å –¥–ª—è –æ–ø–ª–∞—á–∏–≤–∞–µ–º–æ–≥–æ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ (—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π)
- `telegram_premium` - Telegram Premium –Ω–∞ 3 –º–µ—Å—è—Ü–∞ (—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π)

---

### –õ–∏—Å—Ç: EmployeeRanks (–Ω–æ–≤—ã–π)

| EmployeeId | Current Rank | Previous Rank | Month | Year | Notified | Last Updated |
|------------|--------------|---------------|-------|------|----------|--------------|
| 120962578 | Hustler | Rookie | 11 | 2025 | true | 2025/11/01 12:00:00 |

**–ü–æ–ª—è:**
- `EmployeeId` - Telegram user ID
- `Current Rank` - —Ç–µ–∫—É—â–∏–π —Ä–∞–Ω–≥
- `Previous Rank` - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–∞–Ω–≥ (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è/–ø–æ–Ω–∏–∂–µ–Ω–∏—è)
- `Month` - –º–µ—Å—è—Ü (1-12)
- `Year` - –≥–æ–¥
- `Notified` - —É–≤–µ–¥–æ–º–ª–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–Ω–≥–∞
- `Last Updated` - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–õ–æ–≥–∏–∫–∞:**
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω—ã:
  1. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total sales –∑–∞ —Ç–µ–∫—É—â–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü
  2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∞–Ω–≥ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã Ranks
  3. –°—Ä–∞–≤–Ω–∏—Ç—å —Å Current Rank –≤ EmployeeRanks
  4. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `Notified = false`, –≤—ã–±—Ä–∞—Ç—å –±–æ–Ω—É—Å
  5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `Notified = true`

---

### –õ–∏—Å—Ç: ActiveBonuses (–Ω–æ–≤—ã–π)

| ID | EmployeeId | Bonus Type | Value | Applied | Shift ID | Created At |
|----|------------|------------|-------|---------|----------|------------|
| 1 | 120962578 | percent_next | 3.0 | false | NULL | 2025/11/01 12:00:00 |
| 2 | 120962578 | flat | 50.0 | true | 142 | 2025/11/01 12:00:00 |

**–ü–æ–ª—è:**
- `ID` - –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç
- `EmployeeId` - Telegram user ID
- `Bonus Type` - —Ç–∏–ø –±–æ–Ω—É—Å–∞
- `Value` - –∑–Ω–∞—á–µ–Ω–∏–µ (% –∏–ª–∏ $)
- `Applied` - –ø—Ä–∏–º–µ–Ω–µ–Ω –ª–∏ –±–æ–Ω—É—Å (true/false)
- `Shift ID` - ID —Å–º–µ–Ω—ã, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–º–µ–Ω–µ–Ω (NULL = –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ)
- `Created At` - –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è

**–¢–∏–ø—ã –±–æ–Ω—É—Å–æ–≤ (Bonus Type):**
- `flat` - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ–Ω—É—Å $X (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π –∏–ª–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ)
- `percent_next` - +X% –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å–º–µ–Ω—É
- `percent_prev` - +X% —Å –ø—Ä–æ—à–ª–æ–π —Å–º–µ–Ω—ã (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω–µ)
- `percent_all` - +X% —Å–æ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω–µ)
- `double_commission` - —É–¥–≤–æ–∏—Ç—å % –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω–µ

---

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º—ã –†–∞—Å—á–µ—Ç–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–º–µ–Ω—ã - –ø–æ—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å–º–µ–Ω—ã (Clock in, Clock out, Products)

2. –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∏–∑ EmployeeSettings:
   - Hourly wage
   - Sales commission (–±–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞)

3. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Worked hours:
   Worked hours = (Clock out - Clock in) –≤ —á–∞—Å–∞—Ö

4. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total per hour:
   Total per hour = Worked hours √ó Hourly wage

5. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total sales:
   Total sales = SUM(–≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã)

6. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Net sales:
   Net sales = Total sales √ó (1 - COMMISSION_RATE)
   # COMMISSION_RATE = 0.20 (20%)

7. –ü–æ–ª—É—á–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å—Ç–∞–≤–∫—É –∏–∑ DynamicRates:
   - Total sales –∑–∞ —Å–µ–≥–æ–¥–Ω—è (–≤—Å–µ —Å–º–µ–Ω—ã —Å Date = —Å–µ–≥–æ–¥–Ω—è)
   - –ù–∞–π—Ç–∏ –¥–∏–∞–ø–∞–∑–æ–Ω –≤ DynamicRates
   - Dynamic % = Percentage –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

8. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π %:
   % = Sales commission (–±–∞–∑–æ–≤–∞—è) + Dynamic %

9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã –≤ ActiveBonuses:
   - –ë–æ–Ω—É—Å—ã —Å Applied = false
   - –¢–∏–ø—ã: percent_next, double_commission, percent_prev, percent_all

   9.1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–Ω—É—Å—ã —Ç–∏–ø–∞ percent_next / double_commission:
        % += –±–æ–Ω—É—Å
        –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Applied = true, Shift ID = —Ç–µ–∫—É—â–∏–π

   9.2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–Ω—É—Å—ã —Ç–∏–ø–∞ percent_prev:
        - –ù–∞–π—Ç–∏ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–º–µ–Ω—É (–ª–æ–≥–∏–∫–∞ –∏–∑ –ø.5 –∞–Ω–∞–ª–∏–∑–∞)
        - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–æ–Ω—É—Å
        - –î–æ–±–∞–≤–∏—Ç—å –∫ Commissions
        - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Applied = true

   9.3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–Ω—É—Å—ã —Ç–∏–ø–∞ percent_all:
        - –ù–∞–π—Ç–∏ –≤—Å–µ –ø—Ä–æ—à–ª—ã–µ —Å–º–µ–Ω—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è (–ª–æ–≥–∏–∫–∞ –∏–∑ –ø.5 –∞–Ω–∞–ª–∏–∑–∞)
        - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–æ–Ω—É—Å
        - –î–æ–±–∞–≤–∏—Ç—å –∫ Commissions
        - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Applied = true

10. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Commissions:
    Commissions = Net sales √ó %

11. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total made:
    Total made = Commissions + Total per hour

12. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–º–µ–Ω—É –≤ Shifts

13. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–Ω–≥–∏:
    - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total sales –∑–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü
    - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∞–Ω–≥ –∏–∑ Ranks
    - –°—Ä–∞–≤–Ω–∏—Ç—å —Å Current Rank –≤ EmployeeRanks

    13.1. –ï—Å–ª–∏ —Ä–∞–Ω–≥ –∏–∑–º–µ–Ω–∏–ª—Å—è (–ø–æ–≤—ã—à–µ–Ω–∏–µ):
          - –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –±–æ–Ω—É—Å –∏–∑ 3 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
          - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –±–æ–Ω—É—Å –≤ ActiveBonuses
          - –û–±–Ω–æ–≤–∏—Ç—å EmployeeRanks
          - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ + –±–æ–Ω—É—Å–µ

    13.2. –ï—Å–ª–∏ —Ä–∞–Ω–≥ –∏–∑–º–µ–Ω–∏–ª—Å—è (–ø–æ–Ω–∏–∂–µ–Ω–∏–µ):
          - –û–±–Ω–æ–≤–∏—Ç—å EmployeeRanks
          - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–Ω–∏–∂–µ–Ω–∏–∏

14. –ü–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–¥–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

---

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ–Ω—ã - –ø–æ—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–µ (Clock in, Clock out, Total sales)

2. –ï—Å–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è Clock in –∏–ª–∏ Clock out:
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å Worked hours
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å Total per hour

3. –ï—Å–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è Total sales:
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å Net sales
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å % (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–≤–∫–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è!)
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å Commissions
   - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å Total made

4. –û–±–Ω–æ–≤–∏—Ç—å —Å–º–µ–Ω—É –≤ Shifts

5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–Ω–≥–∏ (–∫–∞–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–º–µ–Ω—ã):
   - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Total sales –∑–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∞–Ω–≥
   - –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Üí —É–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

### –†–∞—Å—á–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞–≤–∫–∏

```python
def get_dynamic_rate(employee_id: int, shift_date: str) -> float:
    """
    –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å—Ç–∞–≤–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ Total sales –∑–∞ –¥–µ–Ω—å.

    Args:
        employee_id: Telegram user ID
        shift_date: –î–∞—Ç–∞ —Å–º–µ–Ω—ã (YYYY/MM/DD)

    Returns:
        –ü—Ä–æ—Ü–µ–Ω—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞–≤–∫–∏
    """
    # 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–º–µ–Ω—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∞—Ç—É
    shifts = get_shifts_by_date(employee_id, shift_date)

    # 2. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É Total sales –∑–∞ –¥–µ–Ω—å
    total_sales_today = sum(shift['Total sales'] for shift in shifts)

    # 3. –ù–∞–π—Ç–∏ –¥–∏–∞–ø–∞–∑–æ–Ω –≤ DynamicRates
    rates = get_dynamic_rates()  # –ò–∑ –ª–∏—Å—Ç–∞ DynamicRates

    for rate in rates:
        if rate['Min Amount'] <= total_sales_today < rate['Max Amount']:
            return rate['Percentage']

    return 0.0  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

---

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–∞

```python
def determine_rank(employee_id: int, year: int, month: int) -> str:
    """
    –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–Ω–≥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ Total sales –∑–∞ –º–µ—Å—è—Ü.

    Args:
        employee_id: Telegram user ID
        year: –ì–æ–¥
        month: –ú–µ—Å—è—Ü (1-12)

    Returns:
        –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–Ω–≥–∞
    """
    # 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–º–µ–Ω—ã –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü
    shifts = get_shifts_by_month(employee_id, year, month)

    # 2. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É Total sales –∑–∞ –º–µ—Å—è—Ü
    total_sales_month = sum(shift['Total sales'] for shift in shifts)

    # 3. –ù–∞–π—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–Ω–≥ –≤ Ranks
    ranks = get_ranks()  # –ò–∑ –ª–∏—Å—Ç–∞ Ranks

    for rank in ranks:
        if rank['Min Amount'] <= total_sales_month < rank['Max Amount']:
            return rank['Rank Name']

    return 'Rookie'  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

---

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ "percent_prev"

```python
def apply_percent_prev_bonus(employee_id: int, current_shift: Dict, bonus_value: float) -> float:
    """
    –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–Ω—É—Å "+X% Commission from the chatter from previous shift".

    Args:
        employee_id: Telegram user ID
        current_shift: –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã
        bonus_value: –ó–Ω–∞—á–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ (% –æ—Ç 0 –¥–æ 100)

    Returns:
        –°—É–º–º–∞ –±–æ–Ω—É—Å–∞ –≤ $
    """
    # 1. –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    current_models = get_models_from_shift(current_shift)  # ['Model A', 'Model B']

    # 2. –ù–∞–π—Ç–∏ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–º–µ–Ω—É —Å —ç—Ç–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏
    prev_shift = find_previous_shift_with_models(
        employee_id=employee_id,
        models=current_models,
        before_date=current_shift['Date']
    )

    if not prev_shift:
        return 0.0

    # 3. –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    prev_models = get_models_from_shift(prev_shift)

    # 4. –ù–∞–π—Ç–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
    common_models = list(set(current_models) & set(prev_models))

    if not common_models:
        return 0.0

    # 5. –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –º–æ–¥–µ–ª—å
    selected_model = random.choice(common_models)

    # 6. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Net sales –ø–æ –º–æ–¥–µ–ª–∏
    model_total_sales = prev_shift[selected_model]
    model_net_sales = model_total_sales * 0.8

    # 7. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–æ–Ω—É—Å
    bonus_amount = model_net_sales * (bonus_value / 100)

    return bonus_amount
```

---

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ "percent_all"

```python
def apply_percent_all_bonus(employee_id: int, current_shift: Dict, bonus_value: float) -> float:
    """
    –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–æ–Ω—É—Å "+X% from sales of ALL other chatters on your model that day".

    Args:
        employee_id: Telegram user ID
        current_shift: –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–π —Å–º–µ–Ω—ã
        bonus_value: –ó–Ω–∞—á–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞ (% –æ—Ç 0 –¥–æ 100)

    Returns:
        –°—É–º–º–∞ –±–æ–Ω—É—Å–∞ –≤ $
    """
    # 1. –ü–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
    current_models = get_models_from_shift(current_shift)  # ['Model A', 'Model B']

    # 2. –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –º–æ–¥–µ–ª—å
    selected_model = random.choice(current_models)

    # 3. –ù–∞–π—Ç–∏ –≤—Å–µ —Å–º–µ–Ω—ã –¥—Ä—É–≥–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è —Å —ç—Ç–æ–π –º–æ–¥–µ–ª—å—é
    other_shifts = find_shifts_with_model(
        model=selected_model,
        date=current_shift['Date'],
        exclude_employee=employee_id,
        before_time=current_shift['Clock in']  # –¢–æ–ª—å–∫–æ –ø—Ä–æ—à–ª—ã–µ —Å–º–µ–Ω—ã
    )

    # 4. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É Net sales –ø–æ –º–æ–¥–µ–ª–∏
    total_net_sales = 0.0
    for shift in other_shifts:
        model_sales = shift[selected_model]
        model_net_sales = model_sales * 0.8
        total_net_sales += model_net_sales

    # 5. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–æ–Ω—É—Å
    bonus_amount = total_net_sales * (bonus_value / 100)

    return bonus_amount
```

---

## üöÄ –ü–ª–∞–Ω –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**1.1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –ª–∏—Å—Ç—ã –≤ Google Sheets:**
- EmployeeSettings (—Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö)
- DynamicRates (—Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏)
- Ranks (—Å 6 —Ä–∞–Ω–≥–∞–º–∏ –∏ –±–æ–Ω—É—Å–∞–º–∏)
- EmployeeRanks (–ø—É—Å—Ç–æ–π, —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏)
- ActiveBonuses (–ø—É—Å—Ç–æ–π, —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏)

**1.2. –û–±–Ω–æ–≤–∏—Ç—å –ª–∏—Å—Ç Shifts:**
- –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ª–±—Ü—ã: Worked hours/shift, Total per hour, %, Commissions
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å Total made –≤ –∫–æ–Ω–µ—Ü
- –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ (–ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å)

**1.3. –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
- `init_sheets.py` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ª–∏—Å—Ç–æ–≤
- `migrate_shifts.py` - –ø–µ—Ä–µ—Å—á–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–º–µ–Ω

---

### –≠—Ç–∞–ø 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ sheets_service.py

**2.1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤—ã–º–∏ –ª–∏—Å—Ç–∞–º–∏:**
```python
# EmployeeSettings
def get_employee_settings(employee_id: int) -> Dict
def create_default_employee_settings(employee_id: int) -> None

# DynamicRates
def get_dynamic_rates() -> List[Dict]
def calculate_dynamic_rate(employee_id: int, shift_date: str) -> float

# Ranks
def get_ranks() -> List[Dict]
def determine_rank(employee_id: int, year: int, month: int) -> str
def get_rank_bonuses(rank_name: str) -> List[str]

# EmployeeRanks
def get_employee_rank(employee_id: int, year: int, month: int) -> Dict
def update_employee_rank(employee_id: int, new_rank: str, year: int, month: int) -> None
def check_and_notify_rank_change(employee_id: int, year: int, month: int) -> Optional[Dict]

# ActiveBonuses
def get_active_bonuses(employee_id: int) -> List[Dict]
def create_bonus(employee_id: int, bonus_type: str, value: float) -> int
def apply_bonus(bonus_id: int, shift_id: int) -> None
def select_random_bonus(rank_name: str) -> str
```

**2.2. –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ create_shift:**
- –ü–æ–ª—É—á–∏—Ç—å Hourly wage –∏ Sales commission
- –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Worked hours, Total per hour
- –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å—Ç–∞–≤–∫—É
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã
- –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–æ–≤—ã–π Total made
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–Ω–≥

**2.3. –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥ update_shift_field:**
- –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º—ã–µ –ø–æ–ª—è
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–Ω–≥ –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

### –≠—Ç–∞–ø 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –±–æ–Ω—É—Å–æ–≤

**3.1. –°–æ–∑–¥–∞—Ç—å bonus_service.py:**
```python
class BonusService:
    def apply_flat_bonus(shift_id: int, amount: float) -> None
    def apply_percent_next_bonus(employee_id: int, percent: float) -> None
    def apply_percent_prev_bonus(employee_id: int, current_shift: Dict, percent: float) -> float
    def apply_percent_all_bonus(employee_id: int, current_shift: Dict, percent: float) -> float
    def apply_double_commission_bonus(employee_id: int) -> None
    def get_active_bonuses_for_shift(employee_id: int) -> List[Dict]
```

**3.2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –±–æ–Ω—É—Å—ã:**
- –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–º–µ–Ω—ã
- –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–º–µ–Ω –∑–∞ –¥–µ–Ω—å
- –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏
- –†–∞—Å—á–µ—Ç Net sales –ø–æ –º–æ–¥–µ–ª–∏

---

### –≠—Ç–∞–ø 4: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Ä–∞–Ω–≥–∞—Ö

**4.1. –°–æ–∑–¥–∞—Ç—å rank_service.py:**
```python
class RankService:
    def check_rank_after_shift(employee_id: int, shift_id: int) -> Optional[Dict]
    def send_rank_up_notification(user_id: int, new_rank: str, bonus: str) -> None
    def send_rank_down_notification(user_id: int, new_rank: str) -> None
    def format_rank_message(rank: str, bonus: str) -> str
```

**4.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ handlers.py:**
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–º–µ–Ω—ã ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–Ω–≥
- –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–µ–Ω—ã ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–Ω–≥
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

### –≠—Ç–∞–ø 5: –ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**5.1. –û–±–Ω–æ–≤–∏—Ç—å keyboards.py:**
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "Statistics"
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "Ranks"
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "Info" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**5.2. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ handlers.py:**
```python
async def show_statistics(update, context) -> None
async def show_ranks_info(update, context) -> None
```

**5.3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç—ã –¥–ª—è Statistics:**
- –¢–µ–∫—É—â–∏–π —Ä–∞–Ω–≥ –∏–∑ EmployeeRanks
- Total sales –∑–∞ –º–µ—Å—è—Ü
- Total made —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ pay day (1-–≥–æ –∏–ª–∏ 15-–≥–æ)
- –°–ª–µ–¥—É—é—â–∏–π pay day

---

### –≠—Ç–∞–ø 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**6.1. Unit —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ Worked hours, Total per hour
- –¢–µ—Å—Ç—ã –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞–≤–∫–∏
- –¢–µ—Å—Ç—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞–Ω–≥–∞
- –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤

**6.2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:**
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–º–µ–Ω—ã —Å –±–æ–Ω—É—Å–∞–º–∏
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–º–µ–Ω—ã —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ä–∞–Ω–≥–∞
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ (percent_prev, percent_all)

**6.3. –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –°—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–≤—ã—à–µ–Ω–∏—è —Ä–∞–Ω–≥–∞
- –°—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–Ω–∏–∂–µ–Ω–∏—è —Ä–∞–Ω–≥–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –±–æ–Ω—É—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫ Statistics –∏ Ranks

---

### –≠—Ç–∞–ø 7: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π

**7.1. –û–±–Ω–æ–≤–∏—Ç—å CLAUDE.md:**
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
- –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–Ω–≥–æ–≤
- –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–æ–≤

**7.2. –°–æ–∑–¥–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–Ω–≥–æ–≤
- –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å—ã
- –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

**7.3. –î–µ–ø–ª–æ–π –Ω–∞ Pi4-2:**
- –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

---

## ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã –∏ –†–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–†–∏—Å–∫:** –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Google Sheets –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —Å–ª–æ–∂–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–º–µ–Ω –∑–∞ –¥–µ–Ω—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å batch –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –±–æ–Ω—É—Å—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ì–æ–Ω–∫–∞ —É—Å–ª–æ–≤–∏–π (Race Conditions)

**–†–∏—Å–∫:** –î–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–∑–¥–∞—é—Ç —Å–º–µ–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ‚Üí –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Å—Ç–∞–≤–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- Google Sheets –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å timestamp –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞
- –ü—Ä–∏–Ω—è—Ç—å –Ω–µ–±–æ–ª—å—à—É—é –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (–¥–ª—è –º–∞–ª–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–†–∏—Å–∫:** –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–º–µ–Ω—ã –Ω–µ –∏–º–µ—é—Ç –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ `migrate_shifts.py`
- –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–º–µ–Ω:
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ Hourly wage –∏ Sales commission
  - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è
  - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–Ω–≥–∏ –∑–∞ –ø—Ä–æ—à–ª—ã–µ –º–µ—Å—è—Ü—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –°–ª–æ–∂–Ω–æ—Å—Ç—å –±–æ–Ω—É—Å–æ–≤

**–†–∏—Å–∫:** –ë–æ–Ω—É—Å—ã "percent_prev" –∏ "percent_all" —Å–ª–æ–∂–Ω—ã –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:**
- –†–∞–∑–±–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ docstrings
- –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å fallback (–µ—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–º–µ–Ω—É ‚Üí –±–æ–Ω—É—Å = 0)

---

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–Ω–≥–∞—Ö

**–†–∏—Å–∫:** –°–ø–∞–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–º–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å `Notified` –≤ EmployeeRanks
- –£–≤–µ–¥–æ–º–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–Ω–≥–∞
- –î–æ–±–∞–≤–∏—Ç—å cooldown (–Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ 5 –º–∏–Ω—É—Ç)

---

## üìä –û—Ü–µ–Ω–∫–∞ –¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

| –≠—Ç–∞–ø | –ó–∞–¥–∞—á–∞ | –í—Ä–µ–º—è |
|------|--------|-------|
| 1 | –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö | 2 —á–∞—Å–∞ |
| 2 | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ sheets_service.py | 4 —á–∞—Å–∞ |
| 3 | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –±–æ–Ω—É—Å–æ–≤ | 6 —á–∞—Å–æ–≤ |
| 4 | –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Ä–∞–Ω–≥–∞—Ö | 2 —á–∞—Å–∞ |
| 5 | –ù–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ | 2 —á–∞—Å–∞ |
| 6 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 4 —á–∞—Å–∞ |
| 7 | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –¥–µ–ø–ª–æ–π | 2 —á–∞—Å–∞ |
| **–ò–¢–û–ì–û** | | **22 —á–∞—Å–∞** |

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (MVP)
1. ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã (Worked hours, Total per hour, %, Commissions, Total made)
2. ‚úÖ –¢–∞–±–ª–∏—Ü–∞ EmployeeSettings
3. ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞
4. ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–Ω–≥–æ–≤ (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ)
5. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–Ω–≥–∞—Ö
6. ‚úÖ Flat –±–æ–Ω—É—Å—ã

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
7. ‚úÖ –ë–æ–Ω—É—Å—ã "percent_next" –∏ "double_commission"
8. ‚úÖ –ö–Ω–æ–ø–∫–∞ "Statistics"
9. ‚úÖ –ö–Ω–æ–ø–∫–∞ "Ranks"

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
10. ‚ö†Ô∏è –°–ª–æ–∂–Ω—ã–µ –±–æ–Ω—É—Å—ã "percent_prev" –∏ "percent_all"
11. ‚ö†Ô∏è –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã (Paid Day Off, Telegram Premium) - —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## üìù –û—Ç–≤–µ—Ç—ã –Ω–∞ –í–æ–ø—Ä–æ—Å—ã –ö–ª–∏–µ–Ω—Ç–∞

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–≤–∫–∞ - —Ö—Ä–∞–Ω–µ–Ω–∏–µ
**–û—Ç–≤–µ—Ç:** –í —Ç–∞–±–ª–∏—Ü–µ DynamicRates ‚úÖ

### 2. –ë–æ–Ω—É—Å "+X% Commission from the chatter from previous shift"
**–û—Ç–≤–µ—Ç:** –õ–æ–≥–∏–∫–∞ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°–ª–æ–∂–Ω—ã–µ –±–æ–Ω—É—Å—ã" ‚úÖ
- –ò—Å–∫–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–º–µ–Ω—É —Å –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–º–∏—Å—è –º–æ–¥–µ–ª—è–º–∏
- –ï—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø—Ä–æ–¥–∞–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π ‚Üí –≤—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ
- –†–∞—Å—Å—á–∏—Ç–∞—Ç—å Net sales –º–æ–¥–µ–ª–∏ √ó % –±–æ–Ω—É—Å–∞

### 3. –ë–æ–Ω—É—Å "+X% from sales of ALL other chatters on your model that day"
**–û—Ç–≤–µ—Ç:** –õ–æ–≥–∏–∫–∞ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°–ª–æ–∂–Ω—ã–µ –±–æ–Ω—É—Å—ã" ‚úÖ
- –í—ã–±—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –º–æ–¥–µ–ª—å —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- –ù–∞–π—Ç–∏ –≤—Å–µ —Å–º–µ–Ω—ã –¥—Ä—É–≥–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è —Å —ç—Ç–æ–π –º–æ–¥–µ–ª—å—é
- –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É Net sales √ó % –±–æ–Ω—É—Å–∞

### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ "–Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å–º–µ–Ω—É"
**–û—Ç–≤–µ—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å ‚úÖ
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ ActiveBonuses
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏ –ø–æ–º–µ—Ç–∏—Ç—å Applied = true

### 5. –ü–æ–Ω–∏–∂–µ–Ω–∏–µ —Ä–∞–Ω–≥–∞
**–û—Ç–≤–µ—Ç:** –î–∞, —É–≤–µ–¥–æ–º–ª—è—Ç—å ‚úÖ
- –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–º–µ–Ω—ã –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞–Ω–≥
- –ï—Å–ª–∏ —Ä–∞–Ω–≥ –ø–æ–Ω–∏–∑–∏–ª—Å—è ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### 6. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
**–û—Ç–≤–µ—Ç:** –ù–µ—Ç, –∫–Ω–æ–ø–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞ ‚úÖ
- –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –≤ Google Sheets —Ç–∞–±–ª–∏—Ü–µ EmployeeSettings

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω:** 2025-11-01

**–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —è—Å–Ω—ã –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å—á–µ—Ç–æ–≤
- ‚úÖ –õ–æ–≥–∏–∫–∞ –±–æ–Ω—É—Å–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–Ω–≥–æ–≤
- ‚úÖ UI –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ú–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!** üöÄ
